## 4.2 [Go 程序的基本结构和要素](https://github.com/Unknwon/the-way-to-go_ZH_CN/blob/master/eBook/04.2.md)

### 4.2.1 包的概念、导入与可见性

`package main` 表示一个可独立执行的程序

大写开头的变量视为应导出的变量

`import fm "fmt" // alias`

### 4.2.2 函数

函数的左大括号 `{` 必须与方法的声明放在同一行，这是编译器的强制规定

`print` 这些函数只可以用于调试阶段，在部署程序的时候务必将它们替换成`fmt`中的相关函数

### 4.2.3 注释

几乎所有全局作用域的类型、常量、变量、函数和被导出的对象都应该有一个合理的注释。如果这种注释（称为文档注释）出现在函数前面，例如函数 `Abcd`，则要以 `"Abcd..."` 作为开头。
```go
// enterOrbit causes Superman to fly into low Earth orbit, a position
// that presents several possibilities for planet salvation.
func enterOrbit() error {
   ...
}
```

### 4.2.4 类型

类型可以是基本类型，如：`int`、`float`、`bool`、`string`；

结构化的（复合的），如：`struct`、`array`、`slice`、`map`、`channel`；

只描述类型的行为的，如：`interface`

结构化的类型没有真正的值，它使用 nil 作为默认值。值得注意的是，Go 语言中不存在类型继承。

使用 type 关键字可以定义你自己的类型，你可能想要定义一个结构体(第 10 章)，但是也可以定义一个已经存在的类型的别名

每个值都必须在经过编译后属于某个类型（编译器必须能够推断出所有值的类型），因为 Go 语言是一种静态类型语言。

### 4.2.5 Go 程序的一般结构

总体思路如下：

- 在完成包的 `import` 之后，开始对常量、变量和类型的定义或声明。
- 如果存在 `init` 函数的话，则对该函数进行定义（这是一个特殊的函数，每个含有该函数的包都会首先执行这个函数）。
- 如果当前包是 `main` 包，则定义 `main` 函数。
- 然后定义其余的函数，首先是类型的方法，接着是按照 `main` 函数中先后调用的顺序来定义相关函数，如果有很多函数，则可以按照字母顺序来进行排序。

Go 程序的执行（程序启动）顺序如下：

- 按顺序导入所有被 `main` 包引用的其它包，然后在每个包中执行如下流程：
- 如果该包又导入了其它的包，则从第一步开始递归执行，但是每个包只会被导入一次。
- 然后以相反的顺序在每个包中初始化常量和变量，如果该包含有 `init` 函数的话，则调用该函数。
- 在完成这一切之后，`main` 也执行同样的过程，最后调用 `main` 函数开始执行程序。

### 4.2.6 类型转换

在必要以及可行的情况下，一个类型的值可以被转换成另一种类型的值。由于 Go 语言不存在隐式类型转换，因此所有的转换都必须显式说明，就像调用一个函数一样（类型在这里的作用可以看作是一种函数）：
```go
valueOfTypeB = typeB(valueOfTypeA)
```

### 4.2.7 Go 命名规范

返回某个对象的函数或方法的名称一般都是使用名词，没有 `Get...` 之类的字符，如果是用于修改某个对象，则使用 `SetName`

大小写混合的方式，如 MixedCaps 或 mixedCaps，而不是使用下划线来分割多个名称

## 链接

- [目录](directory.md)
- 下一节：[常量](04.3.md)
